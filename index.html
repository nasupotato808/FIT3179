<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>
      Healthcare Resource Distribution in Malaysia - FIT3179 Data Visualisation
      2
    </title>

    <!-- Import Vega & Vega-Lite -->
    <script src="https://cdn.jsdelivr.net/npm/vega@5.20.2"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@5.1.0"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@6.17.0"></script>

    <!-- Import pure.css -->
    <link
      rel="stylesheet"
      href="https://unpkg.com/purecss@2.0.3/build/pure-min.css"
      integrity="sha384-cg6SkqEOCV1NbJoCu11+bm0NvBRc8IYLRGXkmNrqUBfTjmMYwNKPWBTIKyw9mHNJ"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/purecss@3.0.0/build/grids-responsive-min.css"
    />

    <!-- Google font -->
    <link
      href="https://fonts.googleapis.com/css2?family=Open+Sans&display=swap"
      rel="stylesheet"
    />

    <!-- CSS file -->
    <link rel="stylesheet" type="text/css" href="css/styles.css" />
  </head>
  <body>
    <div class="page">
      <!-- Header -->
      <header class="header">
        <h1>
          Healthcare Resource Distribution and Population Demographics in
          Malaysia
        </h1>
        <p class="subtitle">
          This visualisation observes the healthcare resource distribution and
          population by state in Malaysia. By understanding these distributions,
          the government can make informed decisions on resource allocation to
          ensure the healthcare system provides necessary care to the
          population.
        </p>
      </header>

      <main>
        <!-- Vis1 -->
        <section class="visualization-section">
          <h2>Healthcare Devices Utilisation in Malaysia</h2>
          <div class="vis-container">
            <div id="vis1"></div>
          </div>
          <div class="vis-description">
            <p>
              This map visualizes the utilization of healthcare resources across
              different states in Malaysia.<br />
              It highlights the usage of Non-ICU beds, ICU beds, and
              ventilators,<br />
              allowing for a comparative analysis of healthcare resource
              distribution. <br />For non-ICU beds, the highest utilization
              percentage is 80.22% in <b>Melaka</b>. <br />For ICU-beds, the
              highest utilization percentage is 100% in
              <b>W.P. Kuala Lumpur</b>. <br />For ventilators, the highest
              utilization percentage is 55.3% in <b>Sabah</b>.
            </p>
          </div>
        </section>

        <section class="visualization-section two-column">
          <div class="column">
            <h2>Number of Hospitals by State</h2>
            <div class="vis-container">
              <div id="vis2"></div>
            </div>
            <p class="vis-description">
              This bar chart compares the number of hospitals across various
              states in Malaysia. It provides insights into the distribution of
              healthcare facilities, helping to identify regions with higher or
              lower hospital availability. <br /><b>Sabah</b> has the highest
              number of hospitals.<br />
              <b>Perlis</b> and <b>W.P. Labuan</b> have the lowest number of
              hospitals.
            </p>
          </div>
          <div class="column">
            <h2>Population Pyramid (2004 - 2024)</h2>
            <div class="vis-container">
              <div id="vis3"></div>
            </div>
            <p class="vis-description">
              This population pyramid displays the age and gender distribution
              of Malaysia's population from 2004 to 2024. It helps in
              understanding demographic trends and the changing age structure
              over time.
            </p>
          </div>
        </section>

        <!-- Vis4 -->
        <section class="visualization-section">
          <h2>Top 5 States with Highest Percentage of Elderly Population</h2>
          <div class="vis-container">
            <div id="vis4"></div>
          </div>
          <p class="vis-description">
            This donut chart illustrates the top 5 states in Malaysia with the
            highest percentage of elderly population.<br />It provides a clear
            comparison of the proportion of older adults across these states,
            <br />which is crucial for understanding the distribution of
            age-related healthcare needs and planning appropriate services.
            <br /><b>Perlis</b> and <b>Perak</b> are the states which have the
            top 5 highest percentage of elderly population from 2004 to 2024.
          </p>
        </section>
      </main>

      <!-- Footer -->
      <footer>
        <p class="small-font">
          2024 FIT3170 Wong Jia Xuan 33411808 Data Visualisation 2 <br />
          Data source:<br />
          <a
            href="https://open.dosm.gov.my/data-catalogue/population_state?state=johor&visual=table"
            >DoSM</a
          >
          <a href="https://simplemaps.com/gis/country/my"
            >Malaysia Admin Areas</a
          >
          <a
            href="https://github.com/MoH-Malaysia/kkmnow-data/blob/main/bedutil_01_table_facility.parquet
            "
            >MoH Malaysia</a
          >
          <a href="https://www.naturalearthdata.com/downloads/"
            >Natural Earth</a
          >
        </p>
      </footer>
    </div>

    <script type="text/javascript">
      const visualizations = [
        { id: "vis1", source: "js/device_utilisation.vg.json" },
        { id: "vis2", source: "js/num_of_hospital_by_state.vg.json" },
        { id: "vis3", source: "js/population_pyramid.vg.json" },
        { id: "vis4", source: "js/elder_population_donut.vg.json" },
      ];

      visualizations.forEach((vis) => {
        vegaEmbed(`#${vis.id}`, vis.source)
          .then((result) => console.log(`${vis.id} loaded successfully`))
          .catch((error) => console.error(`Error loading ${vis.id}:`, error));
      });
    </script>
  </body>
</html>
